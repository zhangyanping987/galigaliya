<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#ffeaa7">
    <title>咖喱永远要开心哦~</title>
    
    <!-- 关键CSS内联 -->
    <style>
        /* 关键CSS - 首屏渲染必需 */
        *{margin:0;padding:0;box-sizing:border-box}
        body{background:linear-gradient(135deg,#ffeaa7 0%,#fab1a0 50%,#fd79a8 100%);font-family:Arial,sans-serif;min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;overflow-x:hidden;position:relative}
        .loading-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,rgba(255,234,167,0.95) 0%,rgba(250,177,160,0.95) 50%,rgba(253,121,168,0.95) 100%);backdrop-filter:blur(2px);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999;transition:opacity 0.5s ease-out;pointer-events:auto}
        .loading-spinner{width:60px;height:60px;border:4px solid rgba(255,255,255,0.3);border-top:4px solid #ff6b6b;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:20px}
        .loading-text{color:#fff;font-size:18px;font-weight:bold;text-shadow:2px 2px 4px rgba(0,0,0,0.3);margin-bottom:10px}
        .loading-progress{width:200px;height:6px;background:rgba(255,255,255,0.3);border-radius:3px;overflow:hidden;margin-bottom:10px}
        .loading-progress-bar{height:100%;background:linear-gradient(90deg,#ff6b6b,#4ecdc4,#45b7d1);border-radius:3px;width:0%;transition:width 0.3s ease}
        .loading-percentage{color:#fff;font-size:14px;font-weight:bold;text-shadow:1px 1px 2px rgba(0,0,0,0.3)}
        .loading-details{color:rgba(255,255,255,0.8);font-size:12px;text-align:center;margin-top:5px}
        @keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
        .gif-container{display:flex;justify-content:center;align-items:center;margin-bottom:30px;position:relative;z-index:2}
        .gif-image{max-width:100%;height:auto;border-radius:15px;box-shadow:0 4px 15px rgba(0,0,0,0.15);transition:all 0.3s ease;cursor:pointer}
        .animated-text{text-align:center;font-size:18px;font-weight:bold;background:linear-gradient(45deg,#ff6b6b,#4ecdc4,#45b7d1,#96ceb4,#feca57,#ff9ff3);background-size:400% 400%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:bounce 2s infinite,gradientShift 3s ease infinite;position:relative;z-index:2}
        @keyframes gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
        @keyframes bounce{0%,20%,50%,80%,100%{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}
        .bottom-gifs-container{display:flex;justify-content:center;align-items:center;gap:20px;margin-top:80px;position:relative;z-index:2;flex-wrap:wrap}
        .bottom-gif{max-width:120px;height:auto;border-radius:10px;box-shadow:0 3px 10px rgba(0,0,0,0.15);transition:all 0.3s ease;cursor:pointer}
    </style>
    
    <!-- 预加载关键资源 --> 
    <link rel="preload" href="http://8.148.70.34/罗小黑开心吃汉堡.gif" as="image" type="image/gif" fetchpriority="high">
    <link rel="preload" href="styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="script.js" as="script">
    
    <!-- 非关键资源延迟加载 -->
    <link rel="preload" href="http://8.148.70.34/罗小黑开心摇头.gif" as="image" media="(min-width: 768px)">
    <link rel="preload" href="http://8.148.70.34/罗小黑打喷嚏.gif" as="image" media="(min-width: 768px)">
    <link rel="preload" href="http://8.148.70.34/罗小黑打饱嗝.gif" as="image" media="(min-width: 768px)">
    
    <!-- 资源提示 -->
    <link rel="dns-prefetch" href="//hm.baidu.com">
    <link rel="preconnect" href="//hm.baidu.com" crossorigin>
    
    <!-- 备用CSS -->
    <noscript><link rel="stylesheet" href="styles.css"></noscript>
    
    <!-- 百度统计代码 -->
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?042c85c4af5cbb1277660b910373fbaf";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
</head>
<body>
    <!-- 加载覆盖层 -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">正在加载哦，马上来啦...</div>
        <div class="loading-progress">
            <div id="progress-bar" class="loading-progress-bar"></div>
        </div>
        <div id="loading-percentage" class="loading-percentage">0%</div>
        <div id="loading-details" class="loading-details">准备中...</div>
    </div>

    <!-- 快乐值收集系统 -->
    <div id="game-score" class="game-score" style="display: none;" title="点击查看快乐值统计">
        <div class="score-title">咖喱的快乐值收集</div>
        <div id="score-value" class="score-value">0</div>
        <div id="score-combo" class="score-combo">快乐连吃: 0</div>
    </div>

    <!-- 游戏提示 -->
    <div id="game-hint" class="game-hint" style="display: none;">
        🎮 点击可以吃掉落的零食，然后获得快乐值！
    </div>

    <!-- 快乐值按钮 -->
    <button id="score-toggle-btn" class="score-toggle-btn">
        🎯 开吃！收集快乐值
    </button>

    <!-- 音乐控制按钮 -->
    <button id="music-toggle-btn" class="music-toggle-btn">
        🎵 开启音乐
    </button>

    <!-- 吃零食捕获层 -->
    <div id="click-capture-layer" class="click-capture-layer" style="display: none;"></div>

    <!-- 底部摇动元素 -->
    <div id="bottom-floating-elements" class="bottom-floating-elements"></div>
    
    <!-- 动态零食特效容器 -->
    <div id="food-effects-container"></div>
    
    <div class="gif-container main-gif">
        <img src="http://8.148.70.34/罗小黑开心吃汉堡.gif" alt="罗小黑开心吃汉堡" class="gif-image" loading="eager" fetchpriority="high" onclick="createClickEffect(event)">
    </div>
    
    <div class="animated-text">
        咖喱记得要天天开心哦~
    </div>

    <!-- 底部三个小GIF -->
    <div class="bottom-gifs-container">
        <div class="bottom-gif-item">
            <img data-src="http://8.148.70.34/罗小黑开心摇头.gif" alt="罗小黑开心摇头" class="bottom-gif lazy" loading="lazy" fetchpriority="low" onclick="createClickEffect(event)">
        </div>
        <div class="bottom-gif-item">
            <img data-src="http://8.148.70.34/罗小黑打喷嚏.gif" alt="罗小黑打喷嚏" class="bottom-gif lazy" loading="lazy" fetchpriority="low" onclick="createClickEffect(event)">
        </div>
        <div class="bottom-gif-item">
            <img data-src="http://8.148.70.34/罗小黑打饱嗝.gif" alt="罗小黑打饱嗝" class="bottom-gif lazy" loading="lazy" fetchpriority="low" onclick="createClickEffect(event)">
        </div>
    </div>

    <script src="script.js" defer></script>
</body>
</html>
